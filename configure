#! /bin/sh

OS=`uname -s`

if [ "$OS" == "Darwin" ]; then
  CC=clang
  CFLAGS="-Wall /usr/lib/libcurl.dylib /usr/lib/libncurses.dylib -g -std=c99"
elif [ "$OS" == "FreeBSD" ] || [ "$OS" == "OpenBSD" ] || [ "$OS" == "NetBSD" ]; then
  CC=clang
  CFLAGS="-Wall /usr/local/lib/libcurl.so /usr/lib/libncurses.so -g -std=c99 -I/usr/local/include"
elif [ "$OS" == "Linux" ]; then
  CC=gcc
  CFLAGS="-Wall /usr/lib/libcurl.so /usr/lib/libncurses.so -g -std=c99"
fi

echo "CC=$CC

CFLAGS=$CFLAGS

all: nagnu

nagnu: src/nagnu.c
	\$(CC) \$(CFLAGS) src/nagnu.c -o nagnu

clean:
	rm -f nagnu" > Makefile
if [ "$OS" == "Darwin" ]; then
	echo "	rm -rf *.dSYM" >> Makefile
fi
